import{j as U,k as b,x as J,_ as V,s as x,m as K,o as n,c as i,a as t,n as m,i as e,t as v,F as $,g as S,I as P,J as R,K as q,u as H,z as Q,f as W,b as p,w as s,L as G,d as y,h as N,S as w}from"./index.3fb06026.js";import{u as X,G as D}from"./goods.99289b7e.js";import{u as Y,A as L}from"./AnimateCard.2ac61ba8.js";import{S as Z}from"./sectionTitle.8b5e5a7b.js";import"./index.28d260bb.js";const E=U("categorySelect",()=>{const a=b("\u5168\u90E8"),u=b(["\u82B1\u675F","\u76C6\u82B1","\u8AB2\u7A0B"]),l=b(null),d=b({active:!0}),c=b("\u5168\u90E8"),r=()=>{l.value=null,d.value.active=!0},_=g=>{d.value.active=!1,l.value=g};return J(l,g=>{g!==null?c.value=g:c.value="\u5168\u90E8"}),{defaultBtn:a,categoryBtn:u,isActive:l,isDefault:d,selectTitle:c,defaultSelected:r,isSelected:_}});const ee={class:"category-btns container py-3 mt-5"},te={class:"d-flex justify-content-center align-items-center"},oe=["onClick"],se={__name:"Category",setup(a){const u=E(),{defaultBtn:l,categoryBtn:d,isActive:c,isDefault:r}=x(u),{defaultSelected:_,isSelected:g}=u;return K(_),(I,C)=>(n(),i("div",ee,[t("div",te,[t("button",{class:m([e(r),"btn me-2"]),onClick:C[0]||(C[0]=(...f)=>e(_)&&e(_)(...f)),type:"button"},v(e(l)),3),(n(!0),i($,null,S(e(d),f=>(n(),i("button",{key:f,class:m([{active:f===e(c)},"btn me-2"]),onClick:A=>e(g)(f),type:"button"},v(f),11,oe))),128))])]))}},ne=V(se,[["__scopeId","data-v-6547e85c"]]);const M=a=>(R("data-v-21dc2a2e"),a=a(),q(),a),ae={class:"text-center seperation-bottom"},le={"aria-label":"Page navigation"},ce={class:"pagination"},ie={class:"page-item"},re=M(()=>t("span",{"aria-hidden":"true"},"\xAB",-1)),de=[re],ue=["onClick"],_e={class:"page-item"},ge=M(()=>t("span",{"aria-hidden":"true"},"\xBB",-1)),fe=[ge],pe={__name:"Pagination",props:["pages"],emits:["emit-pages"],setup(a,{emit:u}){const l=d=>{u("emit-pages",d)};return(d,c)=>(n(),i("div",ae,[t("nav",le,[t("ul",ce,[t("li",ie,[t("a",{class:m([{disabled:!a.pages.has_pre},"page-link text-toffee"]),onClick:c[0]||(c[0]=P(r=>l(a.pages.current_page-1),["prevent"])),href:"#","aria-label":"Previous"},de,2)]),(n(!0),i($,null,S(a.pages.total_pages,r=>(n(),i("li",{key:r,class:"page-item"},[t("a",{class:m([{active:r===a.pages.current_page},"page-link text-toffee"]),onClick:P(_=>l(r),["prevent"]),href:"#"},v(r),11,ue)]))),128)),t("li",_e,[t("a",{class:m([{disabled:!a.pages.has_next},"page-link text-toffee"]),onClick:c[1]||(c[1]=P(r=>l(a.pages.current_page+1),["prevent"])),href:"#","aria-label":"Next"},fe,2)])])])]))}},ve=V(pe,[["__scopeId","data-v-21dc2a2e"]]),me={class:"container-sm"},Ce={key:0,class:"row"},he=["onClick","src"],ke=["onClick"],be=t("i",{class:"bi bi-bookmark"},null,-1),ye=[be],$e=["onClick"],xe={key:1,class:"row"},Se=["onClick","src"],Te=["onClick"],Pe=t("i",{class:"bi bi-bookmark"},null,-1),Ie=[Pe],Ae=["onClick"],Ve={__name:"GoodsPage",setup(a){const u=Y(),{collectID:l}=x(u),{addMyCollection:d}=u,c=X(),{goodsAll:r,goods:_,isLoading:g,pagination:I}=x(c),{getGoodId:C,getGoods:f}=c,A=E(),{selectTitle:j,isActive:T}=x(A),z=H(),{addToCart:B}=z,F=Q(()=>r.value.filter(h=>{if(T.value===h.category)return h}));return(h,Be)=>{const O=W("Loading");return n(),i($,null,[p(O,{active:e(g)},null,8,["active"]),p(ne),p(Z,null,{sectionTitle:s(()=>[y(v(e(j)),1)]),_:1}),t("section",me,[e(T)===null?(n(),i("div",Ce,[(n(!0),i($,null,S(e(_),o=>(n(),i("div",{class:"col-lg-3 col-md-4 col-sm-6 col-12",key:o.id},[(n(),N(w,null,{fallback:s(()=>[p(L)]),default:s(()=>[p(D,null,{goodImage:s(()=>[t("img",{onClick:k=>e(C)(o.id),src:o.imageUrl,class:"card-img-top",alt:""},null,8,he)]),goodTitle:s(()=>[y(v(o.title),1)]),goodPrice:s(()=>[y("NT$\xA0"+v(h.$filter.currency(o.price)),1)]),myCollect:s(()=>[t("a",{onClick:k=>e(d)(o,o.id),href:"#",class:m(["btn me-2",e(l).indexOf(o.id)>-1?"btn-toffee":"btn-outline-toffee"])},ye,10,ke)]),goodToCart:s(()=>[t("button",{type:"button",onClick:k=>e(B)(o.id,1),class:"btn btn-outline-toffee flex-fill"},"\u52A0\u5165\u8CFC\u7269\u8ECA",8,$e)]),_:2},1024)]),_:2},1024))]))),128)),p(ve,{pages:e(I),onEmitPages:e(f)},null,8,["pages","onEmitPages"])])):G("",!0),e(T)!==null?(n(),i("div",xe,[(n(!0),i($,null,S(e(F),o=>(n(),i("div",{class:"col-lg-3 col-md-4 col-sm-6 col-12",key:o.id},[(n(),N(w,null,{fallback:s(()=>[p(L)]),default:s(()=>[p(D,null,{goodImage:s(()=>[t("img",{onClick:k=>e(C)(o.id),src:o.imageUrl,class:"card-img-top",alt:""},null,8,Se)]),goodTitle:s(()=>[y(v(o.title),1)]),goodPrice:s(()=>[y("NT$\xA0"+v(h.$filter.currency(o.price)),1)]),myCollect:s(()=>[t("a",{onClick:k=>e(d)(o,o.id),href:"#",class:m(["btn me-2",e(l).indexOf(o.id)>-1?"btn-toffee":"btn-outline-toffee"])},Ie,10,Te)]),goodToCart:s(()=>[t("button",{type:"button",onClick:k=>e(B)(o.id,1),class:"btn btn-outline-toffee flex-fill"},"\u52A0\u5165\u8CFC\u7269\u8ECA",8,Ae)]),_:2},1024)]),_:2},1024))]))),128))])):G("",!0)])],64)}}};export{Ve as default};
