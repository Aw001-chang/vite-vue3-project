import{_ as T,Q as $,v as G,k as p,y as S,m as N,o as l,c,b as j,w as v,a as t,t as r,L as A,F as f,g as F,p as x,q as y,n as g,J as M,K as V,d as B}from"./index.3fb06026.js";import{b as L}from"./index.28d260bb.js";import{T as O}from"./TheStep.35be4a15.js";const e=d=>(M("data-v-1193bbb7"),d=d(),V(),d),q=e(()=>t("span",null,"STEP\xA002",-1)),P=e(()=>t("div",{class:"h5 mt-2"},"\u78BA\u8A8D\u4ED8\u6B3E",-1)),z=[q,P],D=e(()=>t("span",null,"STEP\xA003",-1)),J=e(()=>t("div",{class:"h5 mt-2"},"\u5B8C\u6210\u8A02\u55AE",-1)),K=[D,J],Q={class:"row justify-content-center seperation-top seperation-bottom px-2 px-sm-0"},R={key:0,class:"col-lg-12 col-sm-10 col-12 border-bottom pb-3"},U=e(()=>t("div",{class:"d-sm-flex justify-content-start align-items-end mb-sm-3 mb-5"},[t("div",{class:"h4 mb-sm-0 text-orange-800"},"\u8A02\u55AE\u7DE8\u865F"),t("span",{class:"text-blue-600 ms-sm-2"},"\u8907\u88FD\u4EE5\u4FDD\u5B58\u60A8\u7684\u8A02\u55AE\u7DE8\u865F\uFF0C\u4FBF\u65BC\u67E5\u627E\u8A02\u55AE\u72C0\u614B")],-1)),X={class:"d-sm-flex justify-content-between align-items-center"},H={class:"h5 m-sm-0 mb-5 fw-bold text-wrap text-break text-danger"},W={class:"row justify-content-between seperation-bottom"},Y={class:"col-lg-5 col-md-6 col-12"},Z=e(()=>t("div",{class:"h4 mb-4 text-center text-md-start text-orange-800"},"\u8A02\u8CFC\u5546\u54C1",-1)),tt={class:"items d-flex justify-content-center py-2 px-3 border-bottom"},et=["src"],st={class:"good-title px-3"},ot={class:"mb-2"},at={class:"text-1-line"},lt={class:"fw-bold mb-2"},ct={class:"fs-5 ms-auto mb-auto"},nt={class:"h4 mt-5 text-end"},rt=e(()=>t("div",{class:"mb-2"},"\u7E3D\u8A08:",-1)),dt={class:"fw-bold text-danger"},it={class:"col-md-6 col-12 mt-5 mt-md-0"},pt=e(()=>t("div",{class:"h4 mb-4 text-center text-md-start text-orange-800"},"\u8A02\u8CFC\u4EBA\u8CC7\u8A0A",-1)),ut={class:"mb-3"},_t=e(()=>t("label",{for:"formGroupExampleInput",class:"form-label h6"},"\u96FB\u5B50\u4FE1\u7BB1",-1)),mt=["value"],ht={class:"mb-3"},bt=e(()=>t("label",{for:"formGroupExampleInput2",class:"form-label h6"},"\u6536\u4EF6\u4EBA\u59D3\u540D",-1)),vt=["value"],ft={class:"mb-3"},xt=e(()=>t("label",{for:"formGroupExampleInput2",class:"form-label h6"},"\u6536\u4EF6\u4EBA\u96FB\u8A71",-1)),yt=["value"],gt={class:"mb-3"},wt=e(()=>t("label",{for:"formGroupExampleInput2",class:"form-label h6"},"\u6536\u4EF6\u4EBA\u5730\u5740",-1)),It=["value"],kt={class:"mb-5"},Ct=e(()=>t("label",{for:"exampleFormControlTextarea1",class:"form-label"},[B("\u5099\u8A3B"),t("span",null,"\xA0(\u53EF\u9078\u586B)")],-1)),Et=["value"],Tt={class:"d-block text-center"},$t={key:0,class:"btn btn-toffee"},Gt={key:1,disabled:"",class:"btn btn-toffee"},St={__name:"CartCheckout",setup(d){const u=$(),_=u.params.orderId,w=G(),{pushMessage:I}=w;let m;const s=p({user:{}}),i=p(""),h=async()=>{try{const o=`https://vue3-course-api.hexschool.io/api/anpo/order/${_}`,a=await x.get(o);s.value=a.data.order,i.value=a.data.order.id}catch{}},k=async()=>{try{const o=`https://vue3-course-api.hexschool.io/api/anpo/pay/${_}`;(await x.post(o)).data.success&&(h(),y())}catch(o){console.log(o)}},b=p(!1);S(async()=>{u.name==="cartCheckout"&&(b.value=!0)});const{copy:C}=L({orderListId:i}),E=o=>{C(o),m={style:"teal-700",content:"\u6210\u529F\u8907\u88FD\u8A02\u55AE\u7DE8\u865F"},y(),I(m)};return N(h),(o,a)=>(l(),c(f,null,[j(O,null,{"step-pay":v(()=>[t("div",{class:g([{active:b.value},"col-4 step text-center text-blue-600"])},z,2)]),"step-finish":v(()=>[t("div",{class:g([{active:s.value.is_paid!==!1},"col-4 step text-center text-blue-600"])},K,2)]),_:1}),t("div",Q,[s.value.is_paid!==!1?(l(),c("div",R,[U,t("div",X,[t("div",H,r(i.value),1),t("button",{onClick:a[0]||(a[0]=n=>E(i.value)),type:"button",class:"btn btn-warning"},"\u8907\u88FD\u8A02\u55AE\u7DE8\u865F ")])])):A("",!0)]),t("div",W,[t("div",Y,[Z,(l(!0),c(f,null,F(s.value.products,n=>(l(),c("div",tt,[t("img",{src:n.product.imageUrl,class:"d-block",alt:""},null,8,et),t("div",st,[t("div",ot,[t("div",at,r(n.product.title),1)]),t("div",lt,"NT$\xA0"+r(n.product.price),1)]),t("div",ct,[t("div",null,"X"+r(n.qty),1)])]))),256)),t("div",nt,[rt,t("div",dt,"NT$\xA0"+r(s.value.total),1)])]),t("div",it,[pt,t("form",{class:"border p-3 rounded shadow",onSubmit:k},[t("div",ut,[_t,t("input",{value:s.value.user.email,disabled:"",type:"email",class:"form-control",id:"formGroupExampleInput",placeholder:"Example input placeholder"},null,8,mt)]),t("div",ht,[bt,t("input",{value:s.value.user.name,disabled:"",type:"text",class:"form-control",id:"formGroupExampleInput2",placeholder:"Another input placeholder"},null,8,vt)]),t("div",ft,[xt,t("input",{value:s.value.user.tel,disabled:"",type:"tel",class:"form-control",id:"formGroupExampleInput2",placeholder:"Another input placeholder"},null,8,yt)]),t("div",gt,[wt,t("input",{value:s.value.user.address,disabled:"",type:"text",class:"form-control",id:"formGroupExampleInput2",placeholder:"Another input placeholder"},null,8,It)]),t("div",kt,[Ct,t("textarea",{value:s.value.message,disabled:"",class:"form-control",id:"exampleFormControlTextarea1",rows:"3"},null,8,Et)]),t("div",Tt,[s.value.is_paid===!1?(l(),c("button",$t,"\u78BA\u8A8D\u4ED8\u6B3E ")):(l(),c("button",Gt,"\u4ED8\u6B3E\u6210\u529F "))])],32)])])],64))}},Ft=T(St,[["__scopeId","data-v-1193bbb7"]]);export{Ft as default};
